# workflows

This configuration directory containing various YAML files describing GitHub Actions workflows,
as advised [here](https://docs.github.com/en/actions/get-started/understanding-github-actions#workflows):

_A workflow is a configurable automated process that will run one or more jobs.
Workflows are defined by a YAML file checked in to your repository and will run when triggered by an event in your repository,
or they can be triggered manually, or at a defined schedule._

This repo features the following workflows:

| Name                                  | YAML                                                   | Reuses<br> external workflow                                                                                                                            |                                                                                                                                                                                   [Triggering <br>event](https://docs.github.com/en/actions/reference/events-that-trigger-workflows)                                                                                                                                                                                   | Description                                                                                                                                   |                                   Artifacts <br>(produced during runtime)                                    |                                                                           [Secrets](https://github.com/swiyu-admin-ch/didresolver/settings/secrets/actions)                                                                            |
|---------------------------------------|--------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|-----------------------------------------------------------------------------------------------------------------------------------------------|:------------------------------------------------------------------------------------------------------------:|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
| rust-clippy analyze                   | [`clippy.yml`](clippy.yml)                             | [`rust-clippy.yml`](https://github.com/swiyu-admin-ch/github-actions-workflows/blob/main/.github/workflows/rust-clippy.yml)                             |                                                                                                                                  [push](https://docs.github.com/en/actions/reference/events-that-trigger-workflows#push)<br> [pull_request](https://docs.github.com/en/actions/reference/events-that-trigger-workflows#pull_request)                                                                                                                                   | Checks Rust package to catch common mistakes and improve the code                                                                             |                                                     :x:                                                      |                                                                                                                                                                                                                                        |
| OSV-Scanner                           | [`osv-scanner.yml`](osv-scanner.yml)                   | [`rust-osv-scanner.yml`](https://github.com/swiyu-admin-ch/github-actions-workflows/blob/main/.github/workflows/rust-osv-scanner.yml)                   | [push](https://docs.github.com/en/actions/reference/events-that-trigger-workflows#push)<br> [pull_request](https://docs.github.com/en/actions/reference/events-that-trigger-workflows#pull_request)<br> [merge_group](https://docs.github.com/en/actions/reference/workflows-and-actions/events-that-trigger-workflows#merge_group)<br> [schedule](https://docs.github.com/en/actions/reference/workflows-and-actions/events-that-trigger-workflows#schedule) (weekly) | Run OSV (vulnerabilities) scanner                                                                                                             |                                              :white_check_mark:                                              |                                                                                                                                                                                                                                        |
| Build and test                        | [`build-and-test.yml`](build-and-test.yml)             | [`rust-build-and-test.yml`](https://github.com/swiyu-admin-ch/github-actions-workflows/blob/main/.github/workflows/rust-build-and-test.yml)             |                                                                                                                                                                                        [push](https://docs.github.com/en/actions/reference/events-that-trigger-workflows#push)                                                                                                                                                                                         | Compile a local package and all of its dependencies and execute all unit and integration tests and build examples of a local package          |                                                     :x:                                                      |                                                                                                                                                                                                                                        |
| Execute benchmarks                    | [`benchmarks.yml`](benchmarks.yml)                     | [`rust-benchmarks.yml`](https://github.com/swiyu-admin-ch/github-actions-workflows/blob/main/.github/workflows/rust-benchmarks.yml)                     |                                                                                                                                                                [workflow_dispatch](https://docs.github.com/en/actions/reference/workflows-and-actions/events-that-trigger-workflows#workflow_dispatch)                                                                                                                                                                 | Execute all benchmarks of a local package                                                                                                     |                                              :white_check_mark:                                              |                                                                                                                                                                                                                                        |
| CodeQL Analysis                       | [`codeql-analyze.yml`](codeql-analyze.yml)             | [`rust-codeql-analyze.yml`](https://github.com/swiyu-admin-ch/github-actions-workflows/blob/main/.github/workflows/rust-codeql-analyze.yml)             |                                                                  [push](https://docs.github.com/en/actions/reference/events-that-trigger-workflows#push)<br> [pull_request](https://docs.github.com/en/actions/reference/events-that-trigger-workflows#pull_request)<br> [merge_group](https://docs.github.com/en/actions/reference/workflows-and-actions/events-that-trigger-workflows#merge_group)                                                                   | [Extended Security CodeQL Analysis](https://codeql.github.com/docs/codeql-overview/supported-languages-and-frameworks/#rust-built-in-support) |                                              :white_check_mark:                                              |                                                                                                                                                                                                                                        |
| Build library (**Kotlin**)            | [`build_kotlin.yml`](build_kotlin.yml)                 |                                                                                                                                                         |                                                                                                                                           [push (tag)](https://docs.github.com/en/actions/reference/workflows-and-actions/events-that-trigger-workflows#running-your-workflow-only-when-a-push-of-specific-tags-occurs)<br>                                                                                                                                            | Build UniFFI bindings for **Kotlin**                                                                                                          |     :white_check_mark:<br>(incl. a new [PR](https://github.com/swiyu-admin-ch/didresolver-kotlin/pulls))     | `GH_PAT_BINDINGS_REPO_RW`<br>(a [PAT](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens) having RW access level for `contents` and `pull_requests` repo permissions) |
| Build library (**Kotlin f. Android**) | [`build_kotlin-android.yml`](build_kotlin-android.yml) |                                                                                                                                                         |                                                                                                                                           [push (tag)](https://docs.github.com/en/actions/reference/workflows-and-actions/events-that-trigger-workflows#running-your-workflow-only-when-a-push-of-specific-tags-occurs)<br>                                                                                                                                            | Build UniFFI bindings for Kotlin<br>(**for Android**)                                                                                         | :white_check_mark:<br>(incl. a new [PR](https://github.com/swiyu-admin-ch/didresolver-kotlin-android/pulls)) | `GH_PAT_BINDINGS_REPO_RW`<br>(a [PAT](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens) having RW access level for `contents` and `pull_requests` repo permissions) |
| Build library (**Swift**)             | [`build-swift-bindings.yml`](build-swift-bindings.yml) | [`rust-build-swift-bindings.yml`](https://github.com/swiyu-admin-ch/github-actions-workflows/blob/main/.github/workflows/rust-build-swift-bindings.yml) |                                                                                                                                           [push (tag)](https://docs.github.com/en/actions/reference/workflows-and-actions/events-that-trigger-workflows#running-your-workflow-only-when-a-push-of-specific-tags-occurs)<br>                                                                                                                                            | Build UniFFI bindings for **Swift**                                                                                                           |     :white_check_mark:<br>(incl. a new [PR](https://github.com/swiyu-admin-ch/didresolver-swift/pulls))      | `GH_PAT_BINDINGS_REPO_RW`<br>(a [PAT](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens) having RW access level for `contents` and `pull_requests` repo permissions) |

The artifacts are generated for various OSs and CPU architectures. 